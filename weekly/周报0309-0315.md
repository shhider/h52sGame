周报 - 03/09-03/15
==

本周完成：

- 考虑到游戏密集的数据传输，仅依靠Http协议无法满足需求，因此学习了基于Http、代替Http协议的其他技术或协议。通过分析本课题，目前暂定“操控端-服务端”采用Ajax技术进行数据传输，“服务端-显示端”采用WebSocket协议进行数据传输；
- 搭建了项目所需环境。具体是，在Ubuntu系统中编译安装NodeJs，并安装 **ws** 模块。接着对上述的协议进行了可行性的测试。
- 搭建Git仓库，并托管至Github（会不会造成查重的问题？），项目地址：[shhider/h52sGame · GitHub](https://github.com/shhider/h52sGame)；

参考文献：

- 《Web性能权威指南》，【加】Ilya Grigorik 著，李松峰 译，人民邮电出版社，2014；

下周计划：

- 编写操控段程序，实现服务端正确、快速获取操控端的操作命令；

### WebSocket简介

WebSocket可以在客户端与服务端之间建立一个持续连接，实现实时的双向数据交互，支持文本或二进制数据的传输。目前，主流浏览器已经提供WebSocket API，隐藏了连接管理、消息处理等底层细节，开发者可以快速地发起新的WebSocket连接（需要服务端支持）。

以往实现客户端与服务端的实时数据交互，是通过基于Ajax的“轮询（polling）”技术实现的。轮询方法的弊端是：存在延时，是“伪实时”；并且增加了客户端和服务端的负担。

相比之下，WebSocket就是为了实现实时、双向数据传输而诞生的。WebSocket只需要发起一次连接，就可以进行多次传输，并且每一帧的头部只有2~14个字节，大大降低了数据流量，减小了数据交互的延时。同时对资源的消耗也更小。

另外，WebSocket也存在一些弊端：网络中部分服务器、代理、防火墙等设备会屏蔽长时间的空闲连接通信，可以会对WebSocket的通信产生影响。